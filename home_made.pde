import processing.serial.*;
Serial port;

////////   ////////   ////////////   ///     ///    /////////
//         //             ///        ///     ///    ///   ///
///////    //////         ///        ///     ///    ////////
     //    //             ///        ///     ///    ///
///////    ///////        ///         /////////     ///
void setup(){
  size(400,400);
  smooth();
//////////////////////////////////////////////////////////////////////////////
/////////////////////////////////// PORT /////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
  println("Available serail ports: ");
  // Printer ut tilgjengelige porter
  println(Serial.list());
  // Finn Ã¸nsket port i listen og erstatt [0] hvis det trenges
  port = new Serial(this, Serial.list()[0], 9600);
}
void draw(){}



//////////////////////////////////////////////////////////////////////////////
/////////////////////////////////// BUTTON ///////////////////////////////////
//////////////////////////////////////////////////////////////////////////////

class Button {
  String label;
  float x, y ,w ,h;
  boolean MouseIsOver() {
    if (mouseX > x && mouseX < (x + w) && mouseY > y && mouseY < (y + h)) {
      return true;
    }
    return false;
  }

  // Constructor
  Button(String labelB, float xpos, float ypos, float widthB, float heightB) {
    label = labelB;
    x = xpos;
    y = ypos;
    w = widthB;
    h = heightB;
  }

  void Draw() {
    fill (218);
    stroke(141);
    rect(x,y,h,h,10);
    textAlign(CENTER, CENTER);
    fill(0);
    text(label, x + (w/2), y + (h/2));
  }
}

//////////////////////////////////////////////////////////////////////////////
/////////////////////////////////// SENSOR DATA //////////////////////////////
//////////////////////////////////////////////////////////////////////////////

void drawSensorData(int[] xywh, String displayData) {
  stroke(0);
  fill(255);
  rect(xywh[0], xywh[1], xywh[2], xywh[3]);
  fill(0);
  textAlign(LEFT, CENTER);
  text(displayData,xywh[0]+2, xywh[1]+xywh[3]/2-2);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////// INNCOMMING SERIAL DATA //////////////////////////
//////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
/////////////////////////////// SOME MAGIC SHIT ///////////////////////////////
///////////////////////////////////////////////////////////////////////////////

void sendToPort(String string) {
  port.write(string + "\n");
  println("Sent: " + string);
}

String valueFromPort;

void serialEvent(Serial serialPort) {
  String portData = new String(serialPort.readBytesUntil('\n'));
  if (portData != null) {
    valueFromPort = portData;
    println("Port data: " + valueFromPort);
  }

}